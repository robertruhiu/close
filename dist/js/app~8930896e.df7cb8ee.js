(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~8930896e"],{"3df7":function(e,t,r){"use strict";var o=r("96c7"),a=r("9ef1"),s=r("b012"),n=r("bf80");t["a"]={name:"login",components:{Pageheader:o["a"],Footer:a["a"]},data:function(){return{email:"robertruhiu@gmail.com",password:"Pokerface1994",emailnull:null,passwordnull:null,error:null,usertype:null,currentUserProfile:{}}},methods:{login:function(){var e=this;this.$validator.validateAll().then(function(t){t&&s["a"].login({email:e.email,password:e.password}).then(function(t){e.$store.dispatch("setToken",t.data.token),e.$store.dispatch("setUser",t.data.user);var r={headers:{Authorization:"JWT "+e.$store.state.token}};n["a"].currentuser(e.$store.state.user.pk,r).then(function(t){e.$store.dispatch("setUsertype",t.data.user_type),e.$store.dispatch("setUser_id",t.data.user),"complete"===t.data.stage?"developer"===e.$store.state.usertype?e.$router.push({name:"developer"}):e.$router.push({name:"recruiter"}):e.$router.push({name:"register"})}).catch(function(e){console.log(e)})}).catch(function(t){console.log(t),e.error="login details incorrect"})})}}}}}]);
//# sourceMappingURL=app~8930896e.df7cb8ee.js.map