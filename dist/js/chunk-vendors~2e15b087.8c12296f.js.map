{"version":3,"sources":["webpack:///./node_modules/ant-design-vue/es/avatar/Avatar.js"],"names":["babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","n","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default","_icon__WEBPACK_IMPORTED_MODULE_2__","__webpack_exports__","name","props","prefixCls","type","String","default","shape","validator","val","includes","size","src","srcSet","icon","alt","loadError","Function","data","isImgExist","scale","watch","this","mounted","_this","prevChildren","$slots","prevState","$data","$nextTick","setScale","updated","_this2","preChildren","methods","childrenNode","$refs","avatarChildren","childrenWidth","offsetWidth","avatarWidth","$el","getBoundingClientRect","width","$forceUpdate","handleImgLoadError","$props","errorFlag","undefined","render","_sizeCls","_extends3","h","arguments","_$props","_$data","sizeCls","classString","sizeStyle","height","lineHeight","fontSize","children","attrs","on","error","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","class","ref","style","$listeners"],"mappings":"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","file":"js/chunk-vendors~2e15b087.8c12296f.js","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport Icon from '../icon';\n\nexport default {\n  name: 'AAvatar',\n  props: {\n    prefixCls: {\n      type: String,\n      'default': 'ant-avatar'\n    },\n    shape: {\n      validator: function validator(val) {\n        return ['circle', 'square'].includes(val);\n      },\n      'default': 'circle'\n    },\n    size: {\n      validator: function validator(val) {\n        return typeof val === 'number' || ['small', 'large', 'default'].includes(val);\n      },\n      'default': 'default'\n    },\n    src: String,\n    /** Srcset of image avatar */\n    srcSet: String,\n    icon: String,\n    alt: String,\n    loadError: Function\n  },\n  data: function data() {\n    return {\n      isImgExist: true,\n      scale: 1\n    };\n  },\n\n  watch: {\n    src: function src() {\n      this.isImgExist = true;\n      this.scale = 1;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.prevChildren = this.$slots['default'];\n    this.prevState = _extends({}, this.$data);\n    this.$nextTick(function () {\n      _this.setScale();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    if (this.preChildren !== this.$slots['default'] || this.prevState.scale !== this.$data.scale && this.$data.scale === 1 || this.prevState.isImgExist !== this.$data.isImgExist) {\n      this.$nextTick(function () {\n        _this2.setScale();\n      });\n    }\n    this.preChildren = this.$slots['default'];\n    this.prevState = _extends({}, this.$data);\n  },\n\n  methods: {\n    setScale: function setScale() {\n      var childrenNode = this.$refs.avatarChildren;\n      if (childrenNode) {\n        var childrenWidth = childrenNode.offsetWidth;\n        var avatarWidth = this.$el.getBoundingClientRect().width;\n        if (avatarWidth - 8 < childrenWidth) {\n          this.scale = (avatarWidth - 8) / childrenWidth;\n        } else {\n          this.scale = 1;\n        }\n        this.$forceUpdate();\n      }\n    },\n    handleImgLoadError: function handleImgLoadError() {\n      var loadError = this.$props.loadError;\n\n      var errorFlag = loadError ? loadError() : undefined;\n      if (errorFlag !== false) {\n        this.isImgExist = false;\n      }\n    }\n  },\n  render: function render() {\n    var _sizeCls, _extends3;\n\n    var h = arguments[0];\n    var _$props = this.$props,\n        prefixCls = _$props.prefixCls,\n        shape = _$props.shape,\n        size = _$props.size,\n        src = _$props.src,\n        icon = _$props.icon,\n        alt = _$props.alt,\n        srcSet = _$props.srcSet;\n    var _$data = this.$data,\n        isImgExist = _$data.isImgExist,\n        scale = _$data.scale;\n\n\n    var sizeCls = (_sizeCls = {}, _defineProperty(_sizeCls, prefixCls + '-lg', size === 'large'), _defineProperty(_sizeCls, prefixCls + '-sm', size === 'small'), _sizeCls);\n\n    var classString = _extends(_defineProperty({}, prefixCls, true), sizeCls, (_extends3 = {}, _defineProperty(_extends3, prefixCls + '-' + shape, shape), _defineProperty(_extends3, prefixCls + '-image', src && isImgExist), _defineProperty(_extends3, prefixCls + '-icon', icon), _extends3));\n\n    var sizeStyle = typeof size === 'number' ? {\n      width: size + 'px',\n      height: size + 'px',\n      lineHeight: size + 'px',\n      fontSize: icon ? size / 2 + 'px' : '18px'\n    } : {};\n\n    var children = this.$slots['default'];\n    if (src && isImgExist) {\n      children = h('img', {\n        attrs: { src: src, srcSet: srcSet, alt: alt },\n        on: {\n          'error': this.handleImgLoadError\n        }\n      });\n    } else if (icon) {\n      children = h(Icon, {\n        attrs: { type: icon }\n      });\n    } else {\n      var childrenNode = this.$refs.avatarChildren;\n      if (childrenNode || scale !== 1 && childrenNode) {\n        var transformString = 'scale(' + scale + ') translateX(-50%)';\n        var childrenStyle = {\n          msTransform: transformString,\n          WebkitTransform: transformString,\n          transform: transformString\n        };\n        var sizeChildrenStyle = typeof size === 'number' ? {\n          lineHeight: size + 'px'\n        } : {};\n        children = h(\n          'span',\n          {\n            'class': prefixCls + '-string',\n            ref: 'avatarChildren',\n            style: _extends({}, sizeChildrenStyle, childrenStyle)\n          },\n          [children]\n        );\n      } else {\n        children = h(\n          'span',\n          { 'class': prefixCls + '-string', ref: 'avatarChildren' },\n          [children]\n        );\n      }\n    }\n    return h(\n      'span',\n      { on: this.$listeners, 'class': classString, style: sizeStyle },\n      [children]\n    );\n  }\n};"],"sourceRoot":""}