{"version":3,"sources":["webpack:///./node_modules/ant-design-vue/es/vc-time-picker/Header.js"],"names":["_util_vue_types__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_util_BaseMixin__WEBPACK_IMPORTED_MODULE_1__","moment__WEBPACK_IMPORTED_MODULE_2__","moment__WEBPACK_IMPORTED_MODULE_2___default","n","_util_props_util__WEBPACK_IMPORTED_MODULE_3__","_util_env__WEBPACK_IMPORTED_MODULE_4__","Header","mixins","props","format","string","prefixCls","disabledDate","func","placeholder","clearText","value","object","inputReadOnly","bool","def","hourOptions","array","minuteOptions","secondOptions","disabledHours","disabledMinutes","disabledSeconds","allowEmpty","defaultOpenValue","currentSelectPanel","focusOnOpen","showStr","clearIcon","any","data","this","str","invalid","mounted","_this","requestAnimationFrame","window","setTimeout","$refs","input","focus","select","watch","$props","handler","nextProps","setState","deep","methods","onInputChange","event","target","originalValue","getProtoValue","clone","parsed","isValid","hour","minute","second","indexOf","disabledHourOptions","disabledMinuteOptions","disabledSecondOptions","changedValue","__emit","onKeyDown","e","keyCode","onClear","getClearButton","h","$createElement","Object","attrs","role","title","class","on","mousedown","getInput","invalidClass","ref","keydown","domProps","readOnly","render","arguments","__webpack_exports__"],"mappings":"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","file":"js/chunk-vendors~025b74b4.f7aba417.js","sourcesContent":["import PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport moment from 'moment';\nimport { getComponentFromProp } from '../_util/props-util';\nimport { isIE, isIE9 } from '../_util/env';\n\nvar Header = {\n  mixins: [BaseMixin],\n  props: {\n    format: PropTypes.string,\n    prefixCls: PropTypes.string,\n    disabledDate: PropTypes.func,\n    placeholder: PropTypes.string,\n    clearText: PropTypes.string,\n    value: PropTypes.object,\n    inputReadOnly: PropTypes.bool.def(false),\n    hourOptions: PropTypes.array,\n    minuteOptions: PropTypes.array,\n    secondOptions: PropTypes.array,\n    disabledHours: PropTypes.func,\n    disabledMinutes: PropTypes.func,\n    disabledSeconds: PropTypes.func,\n    // onChange: PropTypes.func,\n    // onClear: PropTypes.func,\n    // onEsc: PropTypes.func,\n    allowEmpty: PropTypes.bool,\n    defaultOpenValue: PropTypes.object,\n    currentSelectPanel: PropTypes.string,\n    focusOnOpen: PropTypes.bool,\n    // onKeyDown: PropTypes.func,\n    showStr: PropTypes.bool.def(true),\n    clearIcon: PropTypes.any\n  },\n  data: function data() {\n    var value = this.value,\n        format = this.format;\n\n    return {\n      str: value && value.format(format) || '',\n      invalid: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.focusOnOpen) {\n      // Wait one frame for the panel to be positioned before focusing\n      var requestAnimationFrame = window.requestAnimationFrame || window.setTimeout;\n      requestAnimationFrame(function () {\n        _this.$refs.input.focus();\n        _this.$refs.input.select();\n      });\n    }\n  },\n\n  watch: {\n    $props: {\n      handler: function handler(nextProps) {\n        var value = nextProps.value,\n            format = nextProps.format;\n\n        this.setState({\n          str: value && value.format(format) || '',\n          invalid: false\n        });\n      },\n      deep: true\n    }\n  },\n\n  methods: {\n    onInputChange: function onInputChange(event) {\n      var str = event.target.value;\n      // https://github.com/vueComponent/ant-design-vue/issues/92\n      if (isIE && !isIE9 && this.str === str) {\n        return;\n      }\n\n      this.showStr = true;\n      this.setState({\n        str: str\n      });\n      var format = this.format,\n          hourOptions = this.hourOptions,\n          minuteOptions = this.minuteOptions,\n          secondOptions = this.secondOptions,\n          disabledHours = this.disabledHours,\n          disabledMinutes = this.disabledMinutes,\n          disabledSeconds = this.disabledSeconds,\n          allowEmpty = this.allowEmpty,\n          originalValue = this.value;\n\n\n      if (str) {\n        var value = this.getProtoValue().clone();\n        var parsed = moment(str, format, true);\n        if (!parsed.isValid()) {\n          this.setState({\n            invalid: true\n          });\n          return;\n        }\n        value.hour(parsed.hour()).minute(parsed.minute()).second(parsed.second());\n\n        // if time value not allowed, response warning.\n        if (hourOptions.indexOf(value.hour()) < 0 || minuteOptions.indexOf(value.minute()) < 0 || secondOptions.indexOf(value.second()) < 0) {\n          this.setState({\n            invalid: true\n          });\n          return;\n        }\n\n        // if time value is disabled, response warning.\n        var disabledHourOptions = disabledHours();\n        var disabledMinuteOptions = disabledMinutes(value.hour());\n        var disabledSecondOptions = disabledSeconds(value.hour(), value.minute());\n        if (disabledHourOptions && disabledHourOptions.indexOf(value.hour()) >= 0 || disabledMinuteOptions && disabledMinuteOptions.indexOf(value.minute()) >= 0 || disabledSecondOptions && disabledSecondOptions.indexOf(value.second()) >= 0) {\n          this.setState({\n            invalid: true\n          });\n          return;\n        }\n\n        if (originalValue) {\n          if (originalValue.hour() !== value.hour() || originalValue.minute() !== value.minute() || originalValue.second() !== value.second()) {\n            // keep other fields for rc-calendar\n            var changedValue = originalValue.clone();\n            changedValue.hour(value.hour());\n            changedValue.minute(value.minute());\n            changedValue.second(value.second());\n            this.__emit('change', changedValue);\n          }\n        } else if (originalValue !== value) {\n          this.__emit('change', value);\n        }\n      } else if (allowEmpty) {\n        this.__emit('change', null);\n      } else {\n        this.setState({\n          invalid: true\n        });\n        return;\n      }\n\n      this.setState({\n        invalid: false\n      });\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === 27) {\n        this.__emit('esc');\n      }\n      this.__emit('keydown', e);\n    },\n    onClear: function onClear() {\n      this.__emit('clear');\n      this.setState({ str: '' });\n    },\n    getClearButton: function getClearButton() {\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          allowEmpty = this.allowEmpty,\n          clearText = this.clearText;\n\n      var clearIcon = getComponentFromProp(this, 'clearIcon');\n      if (!allowEmpty) {\n        return null;\n      }\n      return h(\n        'a',\n        {\n          attrs: {\n            role: 'button',\n\n            title: clearText\n          },\n          'class': prefixCls + '-clear-btn', on: {\n            'mousedown': this.onClear\n          }\n        },\n        [clearIcon || h('i', { 'class': prefixCls + '-clear-btn-icon' })]\n      );\n    },\n    getProtoValue: function getProtoValue() {\n      return this.value || this.defaultOpenValue;\n    },\n    getInput: function getInput() {\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          placeholder = this.placeholder,\n          inputReadOnly = this.inputReadOnly,\n          invalid = this.invalid,\n          str = this.str,\n          showStr = this.showStr;\n\n      var invalidClass = invalid ? prefixCls + '-input-invalid' : '';\n      return h('input', {\n        'class': prefixCls + '-input ' + invalidClass,\n        ref: 'input',\n        on: {\n          'keydown': this.onKeyDown,\n          'input': this.onInputChange\n        },\n        domProps: {\n          'value': showStr ? str : ''\n        },\n        attrs: {\n          placeholder: placeholder,\n\n          readOnly: !!inputReadOnly\n        }\n      });\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var prefixCls = this.prefixCls;\n\n    return h(\n      'div',\n      { 'class': prefixCls + '-input-wrap' },\n      [this.getInput(), this.getClearButton()]\n    );\n  }\n};\n\nexport default Header;"],"sourceRoot":""}