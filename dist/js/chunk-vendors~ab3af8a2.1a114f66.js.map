{"version":3,"sources":["webpack:///./node_modules/vuex-router-sync/index.js"],"names":["cloneRoute","to","from","clone","name","path","hash","query","params","fullPath","meta","Object","freeze","exports","sync","store","router","options","moduleName","registerModule","namespaced","state","currentRoute","mutations","ROUTE_CHANGED","transition","currentPath","isTimeTraveling","storeUnwatch","watch","route","push","afterEachUnHook","afterEach","commit","unregisterModule"],"mappings":"2GA2DA,SAAAA,EAAAC,EAAAC,GACA,IAAAC,EAAA,CACAC,KAAAH,EAAAG,KACAC,KAAAJ,EAAAI,KACAC,KAAAL,EAAAK,KACAC,MAAAN,EAAAM,MACAC,OAAAP,EAAAO,OACAC,SAAAR,EAAAQ,SACAC,KAAAT,EAAAS,MAKA,OAHAR,IACAC,EAAAD,KAAAF,EAAAE,IAEAS,OAAAC,OAAAT,GAxEAU,EAAAC,KAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAC,GAAAD,GAAA,IAAiCC,YAAA,QAEjCH,EAAAI,eAAAD,EAAA,CACAE,YAAA,EACAC,MAAArB,EAAAgB,EAAAM,cACAC,UAAA,CACAC,cAAA,SAAAH,EAAAI,GACAV,EAAAM,MAAAH,GAAAlB,EAAAyB,EAAAxB,GAAAwB,EAAAvB,UAKA,IACAwB,EADAC,GAAA,EAIAC,EAAAb,EAAAc,MACA,SAAAR,GAAsB,OAAAA,EAAAH,IACtB,SAAAY,GACA,IAAArB,EAAAqB,EAAArB,SACAA,IAAAiB,IAGA,MAAAA,IACAC,GAAA,EACAX,EAAAe,KAAAD,IAEAJ,EAAAjB,IAEA,CAAKK,MAAA,IAILkB,EAAAhB,EAAAiB,UAAA,SAAAhC,EAAAC,GACAyB,EACAA,GAAA,GAGAD,EAAAzB,EAAAQ,SACAM,EAAAmB,OAAAhB,EAAA,kBAAiDjB,KAAAC,YAGjD,kBAEA,MAAA8B,GACAA,IAIA,MAAAJ,GACAA,IAIAb,EAAAoB,iBAAAjB","file":"js/chunk-vendors~ab3af8a2.1a114f66.js","sourcesContent":["exports.sync = function (store, router, options) {\n  var moduleName = (options || {}).moduleName || 'route'\n\n  store.registerModule(moduleName, {\n    namespaced: true,\n    state: cloneRoute(router.currentRoute),\n    mutations: {\n      'ROUTE_CHANGED': function ROUTE_CHANGED (state, transition) {\n        store.state[moduleName] = cloneRoute(transition.to, transition.from)\n      }\n    }\n  })\n\n  var isTimeTraveling = false\n  var currentPath\n\n  // sync router on store change\n  var storeUnwatch = store.watch(\n    function (state) { return state[moduleName]; },\n    function (route) {\n      var fullPath = route.fullPath;\n      if (fullPath === currentPath) {\n        return\n      }\n      if (currentPath != null) {\n        isTimeTraveling = true\n        router.push(route)\n      }\n      currentPath = fullPath\n    },\n    { sync: true }\n  )\n\n  // sync store on router navigation\n  var afterEachUnHook = router.afterEach(function (to, from) {\n    if (isTimeTraveling) {\n      isTimeTraveling = false\n      return\n    }\n    currentPath = to.fullPath\n    store.commit(moduleName + '/ROUTE_CHANGED', { to: to, from: from })\n  })\n\n  return function unsync () {\n    // On unsync, remove router hook\n    if (afterEachUnHook != null) {\n      afterEachUnHook()\n    }\n\n    // On unsync, remove store watch\n    if (storeUnwatch != null) {\n      storeUnwatch()\n    }\n\n    // On unsync, unregister Module with store\n    store.unregisterModule(moduleName)\n  }\n}\n\nfunction cloneRoute (to, from) {\n  var clone = {\n    name: to.name,\n    path: to.path,\n    hash: to.hash,\n    query: to.query,\n    params: to.params,\n    fullPath: to.fullPath,\n    meta: to.meta\n  }\n  if (from) {\n    clone.from = cloneRoute(from)\n  }\n  return Object.freeze(clone)\n}\n\n"],"sourceRoot":""}