{"version":3,"sources":["webpack:///./node_modules/ant-design-vue/es/vc-menu/SubPopupMenu.js"],"names":["__webpack_require__","d","__webpack_exports__","getActiveKey","babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default","n","babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__","babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default","omit_js__WEBPACK_IMPORTED_MODULE_3__","_util_vue_types__WEBPACK_IMPORTED_MODULE_4__","_util_store__WEBPACK_IMPORTED_MODULE_5__","_util_BaseMixin__WEBPACK_IMPORTED_MODULE_6__","_util_KeyCode__WEBPACK_IMPORTED_MODULE_7__","classnames__WEBPACK_IMPORTED_MODULE_8__","classnames__WEBPACK_IMPORTED_MODULE_8___default","_util__WEBPACK_IMPORTED_MODULE_9__","_DOMWrap__WEBPACK_IMPORTED_MODULE_10__","_util_vnode__WEBPACK_IMPORTED_MODULE_11__","_util_props_util__WEBPACK_IMPORTED_MODULE_12__","allDisabled","arr","length","every","c","disabled","updateActiveKey","store","menuId","activeKey","state","getState","setState","getEventKey","props","eventKey","saveRef","key","index","this","instanceArrayKeyIndexMap","instanceArray","originalActiveKey","defaultActiveFirst","children","undefined","found","Object","i","propsData","componentOptions","SubPopupMenu","name","prefixCls","string","openTransitionName","openAnimation","oneOfType","object","openKeys","arrayOf","number","visible","bool","parentMenu","focusable","multiple","selectedKeys","defaultSelectedKeys","defaultOpenKeys","level","mode","oneOf","triggerSubMenuAction","inlineIndent","manualRef","func","itemIcon","any","expandIcon","overflowedIndicator","def","__propsSymbol__","mixins","created","prevProps","mounted","updated","prevActiveKey","methods","onKeyDown","e","callback","keyCode","handled","getFlatInstanceArray","forEach","obj","active","activeItem","UP","DOWN","step","preventDefault","$props","onItemHover","hover","onDeselect","selectInfo","__emit","onSelect","onClick","onOpenChange","onDestroy","getOpenTransitionName","direction","len","concat","reverse","activeIndex","ci","slice","start","child","getIcon","instance","$createElement","temp","$slots","$scopedSlots","_temp","slotsProp","data","slot","tag","push","renderCommonMenuItem","extraProps","_this","childProps","isActive","keys","childListeners","newChildProps","renderMenuItem","rootPrefixCls","bind","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","on","click","itemHover","openChange","deselect","select","subMenuKey","isRootMenu","render","_this2","h","arguments","theme","className","domWrapProps","attrs","role","class","$listeners","tabIndex","keydown","map"],"mappings":"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","file":"js/chunk-vendors~9098d457.9684e555.js","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport omit from 'omit.js';\nimport PropTypes from '../_util/vue-types';\nimport { connect } from '../_util/store';\nimport BaseMixin from '../_util/BaseMixin';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\nimport { cloneElement } from '../_util/vnode';\nimport { initDefaultProps, getOptionProps, getPropsData, getEvents, getComponentFromProp } from '../_util/props-util';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n  return arr.every(function (c) {\n    return !!c.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _extends({}, state.activeKey, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function saveRef(key, c) {\n  if (c) {\n    var index = this.instanceArrayKeyIndexMap[key];\n    this.instanceArray[index] = c;\n  }\n}\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var eventKey = props.eventKey,\n      defaultActiveFirst = props.defaultActiveFirst,\n      children = props.children;\n\n  if (activeKey !== undefined && activeKey !== null) {\n    var found = void 0;\n    loopMenuItem(children, function (c, i) {\n      var propsData = c.componentOptions.propsData || {};\n      if (c && !propsData.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n    if (found) {\n      return activeKey;\n    }\n  }\n  activeKey = null;\n  if (defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      var propsData = c.componentOptions.propsData || {};\n      if (!activeKey && c && !propsData.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n  return activeKey;\n}\n\nvar SubPopupMenu = {\n  name: 'SubPopupMenu',\n  props: initDefaultProps({\n    // onSelect: PropTypes.func,\n    // onClick: PropTypes.func,\n    // onDeselect: PropTypes.func,\n    // onOpenChange: PropTypes.func,\n    // onDestroy: PropTypes.func,\n    prefixCls: PropTypes.string,\n    openTransitionName: PropTypes.string,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    openKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n    visible: PropTypes.bool,\n    parentMenu: PropTypes.object,\n    eventKey: PropTypes.string,\n    store: PropTypes.object,\n\n    // adding in refactor\n    focusable: PropTypes.bool,\n    multiple: PropTypes.bool,\n    defaultActiveFirst: PropTypes.bool,\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    selectedKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n    defaultSelectedKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n    defaultOpenKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n    level: PropTypes.number,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n    triggerSubMenuAction: PropTypes.oneOf(['click', 'hover']),\n    inlineIndent: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    manualRef: PropTypes.func,\n    itemIcon: PropTypes.any,\n    expandIcon: PropTypes.any,\n    overflowedIndicator: PropTypes.any,\n    children: PropTypes.any.def([]),\n    __propsSymbol__: PropTypes.any // mock componentWillReceiveProps\n  }, {\n    prefixCls: 'rc-menu',\n    mode: 'vertical',\n    level: 1,\n    inlineIndent: 24,\n    visible: true,\n    focusable: true,\n    manualRef: noop\n  }),\n\n  mixins: [BaseMixin],\n  created: function created() {\n    var props = getOptionProps(this);\n    this.prevProps = _extends({}, props);\n    props.store.setState({\n      activeKey: _extends({}, props.store.getState().activeKey, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    this.instanceArray = [];\n  },\n  mounted: function mounted() {\n    // invoke customized ref to expose component to mixin\n    if (this.manualRef) {\n      this.manualRef(this);\n    }\n  },\n  updated: function updated() {\n    var props = getOptionProps(this);\n    var prevProps = this.prevProps;\n    var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n    var activeKey = getActiveKey(props, originalActiveKey);\n    if (activeKey !== originalActiveKey) {\n      updateActiveKey(props.store, getEventKey(props), activeKey);\n    } else if ('activeKey' in prevProps) {\n      // If prev activeKey is not same as current activeKey,\n      // we should set it.\n      var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n      if (activeKey !== prevActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      }\n    }\n    this.prevProps = _extends({}, props);\n  },\n\n  methods: {\n    // all keyboard events callbacks run from here at first\n    onKeyDown: function onKeyDown(e, callback) {\n      var keyCode = e.keyCode;\n      var handled = void 0;\n      this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n      if (handled) {\n        return 1;\n      }\n      var activeItem = null;\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(this.$props.store, getEventKey(this.$props), activeItem.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n    },\n    onItemHover: function onItemHover(e) {\n      var key = e.key,\n          hover = e.hover;\n\n      updateActiveKey(this.$props.store, getEventKey(this.$props), hover ? key : null);\n    },\n    onDeselect: function onDeselect(selectInfo) {\n      this.__emit('deselect', selectInfo);\n    },\n    onSelect: function onSelect(selectInfo) {\n      this.__emit('select', selectInfo);\n    },\n    onClick: function onClick(e) {\n      this.__emit('click', e);\n    },\n    onOpenChange: function onOpenChange(e) {\n      this.__emit('openChange', e);\n    },\n    onDestroy: function onDestroy(key) {\n      this.__emit('destroy', key);\n    },\n    getFlatInstanceArray: function getFlatInstanceArray() {\n      return this.instanceArray;\n    },\n    getOpenTransitionName: function getOpenTransitionName() {\n      return this.$props.openTransitionName;\n    },\n    step: function step(direction) {\n      var children = this.getFlatInstanceArray();\n      var activeKey = this.$props.store.getState().activeKey[getEventKey(this.$props)];\n      var len = children.length;\n      if (!len) {\n        return null;\n      }\n      if (direction < 0) {\n        children = children.concat().reverse();\n      }\n      // find current activeIndex\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n        return true;\n      });\n      if (!this.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n        if (!child || child.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    },\n    getIcon: function getIcon(instance, name) {\n      if (instance.$createElement) {\n        var temp = instance[name];\n        if (temp !== undefined) {\n          return temp;\n        }\n        return instance.$slots[name] || instance.$scopedSlots[name];\n      } else {\n        var _temp = getPropsData(instance)[name];\n        if (_temp !== undefined) {\n          return _temp;\n        }\n        var slotsProp = [];\n        var componentOptions = instance.componentOptions || {};\n        (componentOptions.children || []).forEach(function (child) {\n          if (child.data && child.data.slot === name) {\n            if (child.tag === 'template') {\n              slotsProp.push(child.children);\n            } else {\n              slotsProp.push(child);\n            }\n          }\n        });\n        return slotsProp.length ? slotsProp : undefined;\n      }\n    },\n    renderCommonMenuItem: function renderCommonMenuItem(child, i, extraProps) {\n      var _this = this;\n\n      if (child.tag === undefined) {\n        return child;\n      }\n      var state = this.$props.store.getState();\n      var props = this.$props;\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.componentOptions.propsData || {};\n\n      var isActive = key === state.activeKey[getEventKey(this.$props)];\n      if (!childProps.disabled) {\n        // manualRef的执行顺序不能保证，使用key映射ref在this.instanceArray中的位置\n        this.instanceArrayKeyIndexMap[key] = Object.keys(this.instanceArrayKeyIndexMap).length;\n      }\n      var childListeners = getEvents(child);\n      var newChildProps = {\n        props: _extends({\n          mode: childProps.mode || props.mode,\n          level: props.level,\n          inlineIndent: props.inlineIndent,\n          renderMenuItem: this.renderMenuItem,\n          rootPrefixCls: props.prefixCls,\n          index: i,\n          parentMenu: props.parentMenu,\n          // customized ref function, need to be invoked manually in child's componentDidMount\n          manualRef: childProps.disabled ? noop : saveRef.bind(this, key),\n          eventKey: key,\n          active: !childProps.disabled && isActive,\n          multiple: props.multiple,\n          openTransitionName: this.getOpenTransitionName(),\n          openAnimation: props.openAnimation,\n          subMenuOpenDelay: props.subMenuOpenDelay,\n          subMenuCloseDelay: props.subMenuCloseDelay,\n          forceSubMenuRender: props.forceSubMenuRender,\n          builtinPlacements: props.builtinPlacements,\n          itemIcon: this.getIcon(child, 'itemIcon') || this.getIcon(this, 'itemIcon'),\n          expandIcon: this.getIcon(child, 'expandIcon') || this.getIcon(this, 'expandIcon')\n        }, extraProps),\n        on: {\n          click: function click(e) {\n            (childListeners.click || noop)(e);\n            _this.onClick(e);\n          },\n          itemHover: this.onItemHover,\n          openChange: this.onOpenChange,\n          deselect: this.onDeselect,\n          // destroy: this.onDestroy,\n          select: this.onSelect\n        }\n      };\n      // ref: https://github.com/ant-design/ant-design/issues/13943\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.props.triggerSubMenuAction = 'click';\n      }\n      return cloneElement(child, newChildProps);\n    },\n    renderMenuItem: function renderMenuItem(c, i, subMenuKey) {\n      if (!c) {\n        return null;\n      }\n      var state = this.$props.store.getState();\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: this.triggerSubMenuAction,\n        isRootMenu: false,\n        subMenuKey: subMenuKey\n      };\n      return this.renderCommonMenuItem(c, i, extraProps);\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n\n    var props = _objectWithoutProperties(this.$props, []);\n\n    var eventKey = props.eventKey,\n        prefixCls = props.prefixCls,\n        visible = props.visible,\n        level = props.level,\n        mode = props.mode,\n        theme = props.theme;\n\n    this.instanceArray = [];\n    this.instanceArrayKeyIndexMap = {};\n    var className = classNames(props.prefixCls, props.prefixCls + '-' + props.mode);\n    var domWrapProps = {\n      props: {\n        tag: 'ul',\n        // hiddenClassName: `${prefixCls}-hidden`,\n        visible: visible,\n        prefixCls: prefixCls,\n        level: level,\n        mode: mode,\n        theme: theme,\n        overflowedIndicator: getComponentFromProp(this, 'overflowedIndicator')\n      },\n      attrs: {\n        role: props.role || 'menu'\n      },\n      'class': className,\n      // Otherwise, the propagated click event will trigger another onClick\n      on: omit(this.$listeners || {}, ['click'])\n    };\n    // if (props.id) {\n    //   domProps.id = props.id\n    // }\n    if (props.focusable) {\n      domWrapProps.attrs.tabIndex = '0';\n      domWrapProps.on.keydown = this.onKeyDown;\n    }\n    return (\n      // ESLint is not smart enough to know that the type of `children` was checked.\n      /* eslint-disable */\n      h(\n        DOMWrap,\n        domWrapProps,\n        [props.children.map(function (c, i) {\n          return _this2.renderMenuItem(c, i, eventKey || '0-menu-');\n        })]\n      )\n      /*eslint -enable */\n\n    );\n  }\n};\n\nexport default connect()(SubPopupMenu);"],"sourceRoot":""}